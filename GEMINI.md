# Gemini プロジェクト設定

**重要: AtCoder等のコンテスト開催中は、このAIアシスタントを使用してはいけません。コンテストのルールを遵守し、公正な競争を心がけてください。このツールの使用は、コンテスト時間外の学習やコード整理に限定してください。**

このファイルは、Gemini AIアシスタントがこのプロジェクトの構造、規約、目的を理解するのを助けるためのコンテキストを提供します。

## 1. プロジェクト概要

これは、AtCoderのような競技プログラミングのコンテスト問題をRust言語で解くためのリポジトリです。
コンテスト問題のコードに加えて、ライブラリも同梱されています。

## 2. コーディングスタイルと規約

- **フォーマット**: すべてのコードは、コミットする前に `cargo fmt` を使ってフォーマットする必要があります。`rustfmt.toml` ファイルに具体的なフォーマットルールが定義されています。
- **提出のための単一ファイル**: 各解答ファイル（例: `src/contest/2025/abc414/b/b.rs`）は、単独でコンパイル・実行可能な自己完結したファイルでなければなりません。本リポジトリにあるライブラリを利用する際には、ライブラリをインポートするのではなく、スニペットとしてコピペをする必要があります。
- **入力処理**: 高速で簡単な入力解析のために `proconio` クレートを使用してください。
- **ユーティリティクレート**:
    - 複雑なイテレータ操作には `itertools` の使用が推奨されます。
    - AtCoder Libraryにある一般的なデータ構造やアルゴリズムには `ac-library-rs` を利用できます。
- **自作ライブラリ**: 再利用可能なコードやデータ構造は `src/mylib/` に保存されています。コンテストでこれらを使用する際は、関連するコードを提出ファイルにコピーする必要があります。ライブラリコードを修正したらテストが通るか確認する必要があります。ただし、編集した部分と関係ない部分でテストが通らない場合はコードの修正をしてはいけません。

## 3. 主要なライブラリ/クレート

- `proconio`: 高速なI/Oのため。
- `itertools`: 高度なイテレータアダプタのため。
- `ac-library-rs`: AtCoder Libraryのデータ構造とアルゴリズムのため。
- `once_cell`: グローバルな静的変数に。
- `superslice`: スライスの拡張機能に。

## 4. よく使うコマンド

- **コードのフォーマット**: `cargo fmt`
- **ライブラリのテスト**: 以下のようにファイルと関数を指定する。
    - 通常の場合: `cargo test --package atcoder_rust --lib -- mylib::segtree_lib::lazy_segtree::range_update_range_sum::test_range_update_range_sum::test_random_update --exact --show-output`
    - ignore テストの場合: `cargo test --package atcoder_rust --lib -- mylib::segtree_lib::lazy_segtree::range_update_range_sum::test_range_update_range_sum::test_random_update --exact --show-output --ignored`
- **自作ライブラリのスニペット化**: `bash snippet.sh` (自作ライブラリ `src/mylib/` 内のファイルを変更した場合に実行)
- **解答の提出**: 特定の問題ファイル（例: `src/contest/2025/abc414/b/b.rs`）の内容をコピーし、AtCoderの提出フォームに貼り付けます。

## 5. ディレクトリ構成

- `src/contest/YYYY/abcXXX/q/q.rs`: `YYYY`年に開催されたコンテスト`abcXXX`の問題`q`の解答ファイル。
- `src/mylib/`: 再利用可能なモジュールやコードスニペット（例: グラフアルゴリズム、データ構造）。
- `src/example/`: 特定のアルゴリズムやデータ構造の練習用コード。
- `Cargo.toml`: プロジェクトの依存関係と各問題のバイナリターゲットを定義。
- `contest.py`: コンテスト用のディレクトリとファイルをセットアップするためのヘルパースクリプト。

## 6. サンドボックス環境

Rust と Python(pip, venv) が使えるようになっています。
サンドボックス環境の Dockerfile は `.gemini/Dockerfile` にあります。

Python でサードパーティライブラリを使う場合は `.venv-gemini` の仮想環境を利用してください。

## 7. 注意点

* 具体的にファイルの書き込み指示があるまで、ファイルへの書き込みをしてはいけない。
* サードパーティ製のクレートのソースコード は `/home/node/.cargo` にあります。 read file が出来ない場合は cat コマンドを使ってください。
* 標準ライブラリのソースコードは `.rustup` にあります。read file が出来ない場合は cat コマンドを使ってください。
* ライブラリの実装を行った場合は、テストの実行も行ってください。
