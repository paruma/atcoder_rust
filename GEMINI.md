# Gemini プロジェクト設定

## 1. プロジェクト概要

これは、AtCoderのような競技プログラミングのコンテスト問題をRust言語で解くためのリポジトリです。
コンテスト問題のコードに加えて、ライブラリも同梱されています。

## 2. 編集する際の注意点

- ライブラリコードの編集をしたら以下を行ってください
    - 該当のテストコードの実行とフォーマッタの適用をしてください
        - 該当のテストコードに ignored のテストがある場合、ignored のテストも実行してください
        - コメントの追加だけをした場合であっても、意図せず他のコードが変更されていないか確認するために、テストを実行してください。
    - 意図しない差分が出ていないかを git diff コマンドで確認してください
ください。
- 具体的な実装指示があるまで、ファイルへの書き込みをしないでください。
    - ユーザーからの質問が、単なるアイディアや方法論を求めているのか、具体的な実装を求めているのかを慎重に判断すること。「〇〇が欲しい」や「〇〇は大変だ」といった発言は、必ずしも即時の実装を意味しません。「〇〇を実装してください」や「このファイルにコードを書いてください」のような明確な指示がある場合にのみ、コードの変更や生成に着手してください。もし判断に迷う場合は、実装方針を提案し、ユーザーの同意を得てから作業を開始してください。
- **rand クレートの利用について**: `rand` クレートは 0.9.0 を採用しています。**古い書き方は避けてください。**
    *  **`rng.gen_range` は使用せず、`rng.random_range` を使ってください。**
    * **`from_entropy` は使用せず、`from_os_rng` を使ってください。**
- ソースコード内のコメントは原則日本語でお願いします
- ランダムテストを実装する場合には `#[ignore]` をつける
- サードパーティ製のクレートのソースコード は `/home/node/.cargo` にあります。 read file が出来ない場合は cat コマンドを使ってください。
    - cargo build をまだしていない場合は cargo build が必要です
- 標準ライブラリのソースコードは `/home/node/.rustup` にあります。read file が出来ない場合は cat コマンドを使ってください。
- git commit などの副作用のある git コマンドは使わないでください
- 一時的なコメントや、開発中に役立つが完成コードには不要なコメントはつけないでください。付ける場合は作業が終わったら削除してください。
- 作業中に作成したスクリプトファイルは削除しないでください。また、作成しようとしたがテストが通らず作成を諦めた場合、作成途中のコードは削除しないでください。ユーザが確認後、必要に応じて削除を指示します。

## 3. よく使うコマンド

- **コードのフォーマット**: `cargo fmt`
- **ライブラリのテスト**: 以下のようにファイルと関数を指定する。
    - 通常の場合: `cargo test --package atcoder_rust --lib -- mylib::segtree_lib::lazy_segtree::range_update_range_sum::test_range_update_range_sum::test_random_update --exact --show-output`
    - ignore テストの場合: `cargo test --package atcoder_rust --lib -- mylib::segtree_lib::lazy_segtree::range_update_range_sum::test_range_update_range_sum::test_random_update --exact --show-output --ignored`


## 4. ディレクトリ構成

- `src/contest/YYYY/abcXXX/q/q.rs`: `YYYY`年に開催されたコンテスト`abcXXX`の問題`q`の解答ファイル。
- `src/mylib/`: 再利用可能なモジュールやコードスニペット（例: グラフアルゴリズム、データ構造）。
- `src/example/`: 特定のアルゴリズムやデータ構造の練習用コード。
- `Cargo.toml`: プロジェクトの依存関係と各問題のバイナリターゲットを定義。
- `contest.py`: コンテスト用のディレクトリとファイルをセットアップするためのヘルパースクリプト。

## 5. サンドボックス環境

Rust と Python(pip, venv) が使えるようになっています。
サンドボックス環境の Dockerfile は `.gemini/Dockerfile` にあります。

Python でサードパーティライブラリを使う場合は `.venv-gemini` の仮想環境を利用してください。
